<!--

    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[    CODE BY WANGZD    ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]

-->
{{template "base/head" .}}

<!-- zTree Core CSS -->
<link href="{{AppSubUrl}}/web/vendor/zTree/css/entityStyle/zTreeStyle.css" type="text/css" rel="stylesheet">


<style>
	
	body {
		background-color: #d9e0e7;
	}

</style>
<main id="content" class="content">
	<div id="app"></div>
</main>

<!-- ECharts单文件引入 --> 
<script src="{{AppSubUrl}}/web/vendor/echart/echarts.min.js"></script>

<script type="text/javascript">
	
	$(function() {

		Vue.component("main-view",{
			delimiters: ['#{', '}#'],
			props: {
				model: Object
			},
			template: `<el-table :data="model.rows" border style="width: 100%">
							<el-table-column :prop="item.name" :label="item.title" width="180" v-for="item in model.columns">
							</el-table-column>
						</el-table>`
		})

		new Vue({
			delimiters: ['#{', '}#'],
			template: `<el-container style="background-color:#ffffff;height: calc(100vh - 100px);">
							<el-aside style="width: 200px;background: rgb(249, 249, 249);">
							</el-aside>
							<el-main style="padding:0px;height: 100%;">
								<el-container style="height: 100%;">
									<el-header  style="height:30px;line-height:30px;">
										能耗管理
									</el-header>
									<el-main style="padding:0px 10px;">
											<el-row>
												<el-col :span="8" v-for="(o, index) in 3" :key="o">
													<el-card :body-style="{ padding: '0px' }">
													<img src="https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png" class="image">
													<div style="padding: 14px;">
														<span>好吃的汉堡</span>
														<div class="bottom clearfix">
														<time class="time">#{ moment().format("LLL") }#</time>
														<el-button type="text" class="button">操作按钮</el-button>
														</div>
													</div>
													</el-card>
												</el-col>
											</el-row>

											<el-row :gutter="10" style="height: 100%;">
												<el-col :span="8">
													<div class="grid-content" style="background-color:#f9f9f9;">
														<main-view :model="tableData.performance"></main-view>
													</div>
												</el-col>
												<el-col :span="16">
													<div class="grid-content" style="background-color:#f9f9f9;">
														<main-view :model="tableData.event"></main-view>
													</div>
												</el-col>
											</el-row>
									</el-main>
								</el-container>
								
							</el-main>
							<el-aside style="width: 200px;background: rgb(249, 249, 249);display:none;">
							</el-asie>
						</el-container>`,
			data:{
				tableData: null
			},
			created(){
				this.init();
			},
			methods:{
				init(){
					const self = this;

					jQuery.ajax({
						url: '/script/exec/js?input=&isfile=true',
						dataType: 'json',
						type: 'POST',
						contentType: false,
						data: '/任森/main.js',
						success: function (data) {
							console.log(data.message);
							self.tableData = data.message;
						}
					});
				}
			}

		}).$mount("#app");

		
	});

</script>


{{template "base/footer" .}}
