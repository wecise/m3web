<!--

    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[    CODE BY WANGZD    ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [:::::[                      ]:::::]
    [::::::[[[[[[[:      :]]]]]]]::::::]
    [::::::::::::::      ::::::::::::::]
    [::::::::::::::      ::::::::::::::]
    [[[[[[[[[[[[[[[      ]]]]]]]]]]]]]]]

-->
{{template "base/head" .}}

<!-- zTree Core CSS -->
<link href="{{AppSubUrl}}/web/vendor/zTree/css/fsStyle/zTreeStyle.css" type="text/css" rel="stylesheet">

<link href="{{AppSubUrl}}/web/vendor/jquery-file-upload/css/jquery.fileupload.css" rel="stylesheet" >


<style>

    body {
        overflow: hidden;
    }

</style>

<main id="content" class="content content-full-width">
        <div class="p-20">
        <!-- begin row -->
        <div class="row">
            <!-- begin col-2 -->
            <div class="col-md-2">
                <form>
                    <div class="input-group">
                        <input type="text" class="form-control-transparent" placeholder="输入关键字" />
                    </div>
                </form>
                <div class="hidden-sm hidden-xs">
                    <h5 class="m-t-20"><i class="fas fa-tasks"></i> 待办任务</h5>
                    <ul class="nav nav-pills nav-stacked nav-inbox">
                        <li class="active">
                            <a href="#">
                                <i class="fas fa-inbox fa-fw"></i> 未处理 (10)
                            </a>
                        </li>
                        <li><a href="#"><i class="fas fa-inbox fa-fw"></i> 已处理</a></li>
                        <li><a href="#"><i class="fas fa-window-close fa-fw"></i> 已关闭</a></li>
                        <li><a href="#"><i class="fas fa-trash fa-fw"></i> 已删除</a></li>
                        <li><a href="#"><i class="fas fa-star fa-fw"></i> 处理中</a></li>
                    </ul>
                    <h5 class="m-t-20"><i class="fas fa-tags"></i> 分组</h5>
                    <ul class="nav nav-pills nav-stacked nav-inbox">
                        <li><a href="#"><i class="fa fa-flag" style="color:teal;"></i> 系统管理</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:tomato;"></i> 应用开发</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:turquoise;"></i> 配置变更</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:wheat;"></i> 报销审批</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:yellowgreen;"></i> 出差申请</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:blue;"></i> 请假申请</a></li>
                        <li><a href="#"><i class="fa fa-flag" style="color:darkgoldenrod;"></i> 采购申请</a></li>
                        <li><a href="#"><i class="fa fa-plus"></i> 新建分组</a></li>
                    </ul>
                </div>
            </div>
            <!-- end col-2 -->
            <!-- begin col-10 -->
            <div class="col-md-10">
                <div class="email-btn-row hidden-xs">
                    <a href="#" class="btn btn-sm btn-inverse"><i class="fas fa-plus"></i> 新增申请</a>
                    <a href="#" class="btn btn-sm btn-inverse"><i class="fas fa-reply"></i> 批复</a>
                    <a href="#" class="btn btn-sm btn-inverse"><i class="fas fa-exclamation"></i> 驳回</a>
                    <a href="#" class="btn btn-sm btn-inverse"><i class="fas fa-trash"></i> 删除</a>
                    <a href="#" class="btn btn-sm btn-inverse"><i class="fas fa-microphone-alt"></i> 备注</a>
                </div>
                <div class="email-content">
                    <table class="table table-email">
                        <thead>
                            <tr>
                                <th class="email-select"><a href="#" data-click="email-select-all"><i class="fa fa-square-o fa-fw"></i></a></th>
                                <th colspan="2">
                                    <div class="dropdown">
                                        <a href="#" class="email-header-link" data-toggle="dropdown">所有<i class="fa fa-angle-down m-l-5"></i></a>
                                        <ul class="dropdown-menu">
                                            <li class="active"><a href="#">所有</a></li>
                                            <li><a href="#">系统管理</a></li>
                                            <li><a href="#">应用开发</a></li>
                                            <li><a href="#">配置变更</a></li>
                                            <li><a href="#">报销审批</a></li>
                                            <li><a href="#">出差申请</a></li>
                                            <li><a href="#">请假申请</a></li>
                                            <li><a href="#">采购申请</a></li>
                                        </ul>
                                    </div>
                                </th>
                                <th><a href="#" data-click="email-select-all"><i class="fa fa-square-o fa-fw"></i></a></th>
                                <th>
                                    <div class="dropdown">
                                        <a href="#" class="email-header-link" data-toggle="dropdown">排序 <i class="fa fa-angle-down m-l-5"></i></a>
                                        <ul class="dropdown-menu">
                                            <li class="active"><a href="#">日期</a></li>
                                            <li><a href="#">申请人</a></li>
                                            <li><a href="#">主题</a></li>
                                            <li><a href="#">类型</a></li>
                                        </ul>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:teal;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>系统管理</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:teal;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:tomato;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>应用开发</a>
                                </td>
                                <td class="email-sender">
                                    GTS系统与告警集成
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:tomato;"></i></a>
                                    与告警集成测试申请
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:turquoise;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>配置变更</a>
                                </td>
                                <td class="email-sender">
                                    plex2服务器mibs升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:turquoise;"></i></a>
                                    主机MIBS升级
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:wheat;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>报销审批</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:wheat;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:yellowgreen;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>出差申请</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:yellowgreen;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:blue;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>请假审批</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:blue;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:darkgoldenrod;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>采购申请</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:darkgoldenrod;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:teal;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>系统管理</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:teal;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:teal;"></i></a> 
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>系统管理</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:teal;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                            <tr>
                                <td class="email-select"><a href="#" data-click="email-select-single"><i class="far fa-square fa-fw"></i></a></td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-highlight"><i class="fa fa-flag" style="color:teal;"></i></a>
                                    <a href="#" data-click="email-select-single"><i class="fa fa-square-o fa-fw"></i>系统管理</a>
                                </td>
                                <td class="email-sender">
                                    MXSVR01服务器内存升级
                                </td>
                                <td class="email-subject">
                                    <a href="#" class="email-btn" data-click="email-archive"><i class="fa fa-folder-open"></i></a>
                                    <a href="#" class="email-btn" data-click="email-remove"><i class="fa fa-trash-o" style="color:teal;"></i></a>
                                    升级到32GB
                                </td>
                                <td class="email-date">2018-12-31</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="email-footer clearfix">
                        10 条 待办任务
                        <ul class="pagination pagination-sm m-t-0 m-b-0 pull-right">
                            <li class="disabled"><a href="javascript:;"><i class="fa fa-angle-double-left"></i></a></li>
                            <li class="disabled"><a href="javascript:;"><i class="fa fa-angle-left"></i></a></li>
                            <li><a href="javascript:;"><i class="fa fa-angle-right"></i></a></li>
                            <li><a href="javascript:;"><i class="fa fa-angle-double-right"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- end col-10 -->
        </div>
        <!-- end row -->
        </div>
    </main>

<!--zTree Core JS-->
<script src="{{AppSubUrl}}/web/vendor/zTree/js/jquery.ztree.all-3.5.min.js"></script>

<!--File Parse JS-->
<script src="{{AppSubUrl}}/web/vendor/papaparse/papaparse.min.js"></script>
<!--Jquery File Upload JS-->
<script src="{{AppSubUrl}}/web/vendor/js-load-image/js/load-image.all.min.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/canvas-to-blob.min.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/vendor/jquery.ui.widget.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/jquery.iframe-transport.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/jquery.fileupload.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/jquery.fileupload-process.js"></script>
<script src="{{AppSubUrl}}/web/vendor/jquery-file-upload/js/jquery.fileupload-image.js"></script>

<link rel="vc" href="{{AppSubUrl}}/web/component/fs/fs-tree-component.html"></link>
<link rel="vc" href="{{AppSubUrl}}/web/component/fs/fs-view-component.html"></link>
<link rel="vc" href="{{AppSubUrl}}/web/component/fs/fs-editor-component.html"></link>
<link rel="vc" href="{{AppSubUrl}}/web/component/fs/fs-output-component.html"></link>
<link rel="vc" href="{{AppSubUrl}}/web/component/fs/fs-datatable-component.html"></link>

<link rel="vc" href="{{AppSubUrl}}/web/component/ai/ai-robot-component.html"></link>

<script type="text/javascript">

    VueLoader.onloaded(["fs-tree-component",
                        "fs-view-component",
                        "fs-editor-component",
                        "fs-output-component",
                        "fs-datatable-component",
                        "ai-robot-component"
                        ],function() {

        $(function() {

            let appApp = new Vue({
                delimiters: ['${', '}'],
                el: '#app',
                data: {
                    config: {
                        settings:{
                            showPopoutIcon: false,
                            showCloseIcon: false,
                            hasHeaders: false,
                        },
                        content: [{
                            type: 'row',
                            content:[
                                {
                                    type: 'stack',
                                    width: 15,
                                    content:[{
                                        type: 'component',
                                        componentName: 'layoutComponent',
                                        title:'我的文件',
                                        isClosable: false,
                                        componentState: {
                                            id: 'layout-tree',
                                            templateId: 'layout-tree-template'
                                        }
                                    }]
                                },
                                {
                                    type: 'column',
                                    content:[{
                                        type: 'component',
                                        componentName: 'layoutComponent',
                                        title:'内容',
                                        componentState: {
                                            id: 'layout-console',
                                            templateId: 'layout-console-template'
                                        }
                                    }]
                                }
                            ]
                        }],
                        layout: null
                    }

                },
                created: function(){
                    let self = this;

                    eventHub.$on("LAYOUT-RESIZE-EVENT",self.resizeLayout);
                },
                mounted: function() {
                    let self = this;

                    self.$nextTick(function() {
                        setTimeout(function () {
                            self.init();
                            self.initPlugin();
                        });
                    })
                },
                methods: {
                    init: function(){
                        let self = this;

                        //var savedState = localStorage.getItem('savedState');
                        //self.config = savedState !== null ? JSON.parse(savedState) : self.config;

                        self.layout = new GoldenLayout(self.config, self.$el);

                        self.layout.registerComponent('layoutComponent', function (container, state) {
                            var html = "<div id=\"" + state.templateId + "\">" + $('#' + state.templateId).html() + "</div>";
                            container.getElement().html(html);

                            setTimeout(function(){
                                if(state.id == 'layout-tree'){
                                    new Vue(treeVue);
                                } else if(state.id == 'layout-console'){
                                    new Vue(consoleVue);
                                } else if(state.id == 'layout-output'){
                                    //new Vue(queryOutput);
                                }
                            })
                        });
                        //
                        //	Save state in local storage
                        //
                        self.layout.on('stateChanged', function () {
                            var state = JSON.stringify(self.layout.toConfig());
                            localStorage.setItem('savedState', state);
                        });
                        //  Initialize GL
                        self.layout.init();

                        //  Update GL on window resize
                        window.addEventListener('resize', function () { self.layout.updateSize(); });

                    },
                    initPlugin: function(){
                        let self = this;

                    },
                    resetLayout: function () {
                        localStorage.removeItem('savedState');
                        window.location.reload(true);
                    },
                    resizeLayout: function(){
                        let self = this;

                        self.layout.updateSize();
                    }
                }
            });

        })

    })

</script>


{{template "base/footer" .}}
